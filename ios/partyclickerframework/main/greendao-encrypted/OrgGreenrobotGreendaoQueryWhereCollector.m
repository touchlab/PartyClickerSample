//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//

#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "OrgGreenrobotGreendaoAbstractDao.h"
#include "OrgGreenrobotGreendaoDaoException.h"
#include "OrgGreenrobotGreendaoProperty.h"
#include "OrgGreenrobotGreendaoQueryWhereCollector.h"
#include "OrgGreenrobotGreendaoQueryWhereCondition.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/List.h"
#include "java/util/ListIterator.h"

@interface OrgGreenrobotGreendaoQueryWhereCollector () {
 @public
  OrgGreenrobotGreendaoAbstractDao *dao_;
  id<JavaUtilList> whereConditions_;
  NSString *tablePrefix_;
}

@end

J2OBJC_FIELD_SETTER(OrgGreenrobotGreendaoQueryWhereCollector, dao_, OrgGreenrobotGreendaoAbstractDao *)
J2OBJC_FIELD_SETTER(OrgGreenrobotGreendaoQueryWhereCollector, whereConditions_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(OrgGreenrobotGreendaoQueryWhereCollector, tablePrefix_, NSString *)

@implementation OrgGreenrobotGreendaoQueryWhereCollector

- (instancetype)initWithOrgGreenrobotGreendaoAbstractDao:(OrgGreenrobotGreendaoAbstractDao *)dao
                                            withNSString:(NSString *)tablePrefix {
  OrgGreenrobotGreendaoQueryWhereCollector_initWithOrgGreenrobotGreendaoAbstractDao_withNSString_(self, dao, tablePrefix);
  return self;
}

- (void)addWithOrgGreenrobotGreendaoQueryWhereCondition:(id<OrgGreenrobotGreendaoQueryWhereCondition>)cond
      withOrgGreenrobotGreendaoQueryWhereConditionArray:(IOSObjectArray *)condMore {
  [self checkConditionWithOrgGreenrobotGreendaoQueryWhereCondition:cond];
  [((id<JavaUtilList>) nil_chk(whereConditions_)) addWithId:cond];
  {
    IOSObjectArray *a__ = condMore;
    id<OrgGreenrobotGreendaoQueryWhereCondition> const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    id<OrgGreenrobotGreendaoQueryWhereCondition> const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      id<OrgGreenrobotGreendaoQueryWhereCondition> whereCondition = *b__++;
      [self checkConditionWithOrgGreenrobotGreendaoQueryWhereCondition:whereCondition];
      [whereConditions_ addWithId:whereCondition];
    }
  }
}

- (id<OrgGreenrobotGreendaoQueryWhereCondition>)combineWhereConditionsWithNSString:(NSString *)combineOp
                                      withOrgGreenrobotGreendaoQueryWhereCondition:(id<OrgGreenrobotGreendaoQueryWhereCondition>)cond1
                                      withOrgGreenrobotGreendaoQueryWhereCondition:(id<OrgGreenrobotGreendaoQueryWhereCondition>)cond2
                                 withOrgGreenrobotGreendaoQueryWhereConditionArray:(IOSObjectArray *)condMore {
  JavaLangStringBuilder *builder = create_JavaLangStringBuilder_initWithNSString_(@"(");
  id<JavaUtilList> combinedValues = create_JavaUtilArrayList_init();
  [self addConditionWithJavaLangStringBuilder:builder withJavaUtilList:combinedValues withOrgGreenrobotGreendaoQueryWhereCondition:cond1];
  [builder appendWithNSString:combineOp];
  [self addConditionWithJavaLangStringBuilder:builder withJavaUtilList:combinedValues withOrgGreenrobotGreendaoQueryWhereCondition:cond2];
  {
    IOSObjectArray *a__ = condMore;
    id<OrgGreenrobotGreendaoQueryWhereCondition> const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    id<OrgGreenrobotGreendaoQueryWhereCondition> const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      id<OrgGreenrobotGreendaoQueryWhereCondition> cond = *b__++;
      [builder appendWithNSString:combineOp];
      [self addConditionWithJavaLangStringBuilder:builder withJavaUtilList:combinedValues withOrgGreenrobotGreendaoQueryWhereCondition:cond];
    }
  }
  [builder appendWithChar:')'];
  return create_OrgGreenrobotGreendaoQueryWhereCondition_StringCondition_initWithNSString_withNSObjectArray_([builder description], [combinedValues toArray]);
}

- (void)addConditionWithJavaLangStringBuilder:(JavaLangStringBuilder *)builder
                             withJavaUtilList:(id<JavaUtilList>)values
 withOrgGreenrobotGreendaoQueryWhereCondition:(id<OrgGreenrobotGreendaoQueryWhereCondition>)condition {
  [self checkConditionWithOrgGreenrobotGreendaoQueryWhereCondition:condition];
  [((id<OrgGreenrobotGreendaoQueryWhereCondition>) nil_chk(condition)) appendToWithJavaLangStringBuilder:builder withNSString:tablePrefix_];
  [condition appendValuesToWithJavaUtilList:values];
}

- (void)checkConditionWithOrgGreenrobotGreendaoQueryWhereCondition:(id<OrgGreenrobotGreendaoQueryWhereCondition>)whereCondition {
  if ([whereCondition isKindOfClass:[OrgGreenrobotGreendaoQueryWhereCondition_PropertyCondition class]]) {
    [self checkPropertyWithOrgGreenrobotGreendaoProperty:((OrgGreenrobotGreendaoQueryWhereCondition_PropertyCondition *) nil_chk(((OrgGreenrobotGreendaoQueryWhereCondition_PropertyCondition *) cast_chk(whereCondition, [OrgGreenrobotGreendaoQueryWhereCondition_PropertyCondition class]))))->property_];
  }
}

- (void)checkPropertyWithOrgGreenrobotGreendaoProperty:(OrgGreenrobotGreendaoProperty *)property {
  if (dao_ != nil) {
    IOSObjectArray *properties = [dao_ getProperties];
    jboolean found = false;
    {
      IOSObjectArray *a__ = properties;
      OrgGreenrobotGreendaoProperty * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
      OrgGreenrobotGreendaoProperty * const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        OrgGreenrobotGreendaoProperty *property2 = *b__++;
        if (property == property2) {
          found = true;
          break;
        }
      }
    }
    if (!found) {
      @throw create_OrgGreenrobotGreendaoDaoException_initWithNSString_(JreStrcat("$$$@", @"Property '", ((OrgGreenrobotGreendaoProperty *) nil_chk(property))->name_, @"' is not part of ", dao_));
    }
  }
}

- (void)appendWhereClauseWithJavaLangStringBuilder:(JavaLangStringBuilder *)builder
                                      withNSString:(NSString *)tablePrefixOrNull
                                  withJavaUtilList:(id<JavaUtilList>)values {
  id<JavaUtilListIterator> iter = [((id<JavaUtilList>) nil_chk(whereConditions_)) listIterator];
  while ([((id<JavaUtilListIterator>) nil_chk(iter)) hasNext]) {
    if ([iter hasPrevious]) {
      [((JavaLangStringBuilder *) nil_chk(builder)) appendWithNSString:@" AND "];
    }
    id<OrgGreenrobotGreendaoQueryWhereCondition> condition = [iter next];
    [((id<OrgGreenrobotGreendaoQueryWhereCondition>) nil_chk(condition)) appendToWithJavaLangStringBuilder:builder withNSString:tablePrefixOrNull];
    [condition appendValuesToWithJavaUtilList:values];
  }
}

- (jboolean)isEmpty {
  return [((id<JavaUtilList>) nil_chk(whereConditions_)) isEmpty];
}

- (void)dealloc {
  RELEASE_(dao_);
  RELEASE_(whereConditions_);
  RELEASE_(tablePrefix_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, 1, -1, -1 },
    { NULL, "V", 0x80, 2, 3, -1, -1, -1, -1 },
    { NULL, "LOrgGreenrobotGreendaoQueryWhereCondition;", 0x80, 4, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 6, 7, -1, 8, -1, -1 },
    { NULL, "V", 0x0, 9, 10, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 11, 12, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 13, 14, -1, 15, -1, -1 },
    { NULL, "Z", 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithOrgGreenrobotGreendaoAbstractDao:withNSString:);
  methods[1].selector = @selector(addWithOrgGreenrobotGreendaoQueryWhereCondition:withOrgGreenrobotGreendaoQueryWhereConditionArray:);
  methods[2].selector = @selector(combineWhereConditionsWithNSString:withOrgGreenrobotGreendaoQueryWhereCondition:withOrgGreenrobotGreendaoQueryWhereCondition:withOrgGreenrobotGreendaoQueryWhereConditionArray:);
  methods[3].selector = @selector(addConditionWithJavaLangStringBuilder:withJavaUtilList:withOrgGreenrobotGreendaoQueryWhereCondition:);
  methods[4].selector = @selector(checkConditionWithOrgGreenrobotGreendaoQueryWhereCondition:);
  methods[5].selector = @selector(checkPropertyWithOrgGreenrobotGreendaoProperty:);
  methods[6].selector = @selector(appendWhereClauseWithJavaLangStringBuilder:withNSString:withJavaUtilList:);
  methods[7].selector = @selector(isEmpty);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "dao_", "LOrgGreenrobotGreendaoAbstractDao;", .constantValue.asLong = 0, 0x12, -1, -1, 16, -1 },
    { "whereConditions_", "LJavaUtilList;", .constantValue.asLong = 0, 0x12, -1, -1, 17, -1 },
    { "tablePrefix_", "LNSString;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgGreenrobotGreendaoAbstractDao;LNSString;", "(Lorg/greenrobot/greendao/AbstractDao<TT;*>;Ljava/lang/String;)V", "add", "LOrgGreenrobotGreendaoQueryWhereCondition;[LOrgGreenrobotGreendaoQueryWhereCondition;", "combineWhereConditions", "LNSString;LOrgGreenrobotGreendaoQueryWhereCondition;LOrgGreenrobotGreendaoQueryWhereCondition;[LOrgGreenrobotGreendaoQueryWhereCondition;", "addCondition", "LJavaLangStringBuilder;LJavaUtilList;LOrgGreenrobotGreendaoQueryWhereCondition;", "(Ljava/lang/StringBuilder;Ljava/util/List<Ljava/lang/Object;>;Lorg/greenrobot/greendao/query/WhereCondition;)V", "checkCondition", "LOrgGreenrobotGreendaoQueryWhereCondition;", "checkProperty", "LOrgGreenrobotGreendaoProperty;", "appendWhereClause", "LJavaLangStringBuilder;LNSString;LJavaUtilList;", "(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/util/List<Ljava/lang/Object;>;)V", "Lorg/greenrobot/greendao/AbstractDao<TT;*>;", "Ljava/util/List<Lorg/greenrobot/greendao/query/WhereCondition;>;", "<T:Ljava/lang/Object;>Ljava/lang/Object;" };
  static const J2ObjcClassInfo _OrgGreenrobotGreendaoQueryWhereCollector = { "WhereCollector", "org.greenrobot.greendao.query", ptrTable, methods, fields, 7, 0x0, 8, 3, -1, -1, -1, 18, -1 };
  return &_OrgGreenrobotGreendaoQueryWhereCollector;
}

@end

void OrgGreenrobotGreendaoQueryWhereCollector_initWithOrgGreenrobotGreendaoAbstractDao_withNSString_(OrgGreenrobotGreendaoQueryWhereCollector *self, OrgGreenrobotGreendaoAbstractDao *dao, NSString *tablePrefix) {
  NSObject_init(self);
  JreStrongAssign(&self->dao_, dao);
  JreStrongAssign(&self->tablePrefix_, tablePrefix);
  JreStrongAssignAndConsume(&self->whereConditions_, new_JavaUtilArrayList_init());
}

OrgGreenrobotGreendaoQueryWhereCollector *new_OrgGreenrobotGreendaoQueryWhereCollector_initWithOrgGreenrobotGreendaoAbstractDao_withNSString_(OrgGreenrobotGreendaoAbstractDao *dao, NSString *tablePrefix) {
  J2OBJC_NEW_IMPL(OrgGreenrobotGreendaoQueryWhereCollector, initWithOrgGreenrobotGreendaoAbstractDao_withNSString_, dao, tablePrefix)
}

OrgGreenrobotGreendaoQueryWhereCollector *create_OrgGreenrobotGreendaoQueryWhereCollector_initWithOrgGreenrobotGreendaoAbstractDao_withNSString_(OrgGreenrobotGreendaoAbstractDao *dao, NSString *tablePrefix) {
  J2OBJC_CREATE_IMPL(OrgGreenrobotGreendaoQueryWhereCollector, initWithOrgGreenrobotGreendaoAbstractDao_withNSString_, dao, tablePrefix)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGreenrobotGreendaoQueryWhereCollector)
